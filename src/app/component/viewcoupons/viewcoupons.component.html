<ng-container *ngIf='loading'>
    <div nz-row>

        &nbsp;
    </div>

    <div nz-row>
        <div nz-col nzSpan="24" style='text-align: center'>
            <nz-spin nzTip="Please wait....Loading Images" nzSimple [nzSize]="'large'"></nz-spin>
        </div>
    </div>
</ng-container>

<ng-container *ngIf='!loading'>
    <div nz-row>
        <div nz-col *ngFor="let item of coupons">
            <div class="container" style='overflow:hidden;'>
                <img style=' width:100%; height:100% ;object-fit:scale-down; ' id="image" class="img-fluid img-thumbnail" [src]="item.image"
                    (click)="coupon=item;  previewVisible = true;">
                <img [class]="item.image_align" [src]="item.logo"
                    style='max-width: 20%; max-height: 20%;border: 2px solid blue;'>


                <div [class]="item.footer_align" [style.font-family]='item.footer_font'
                    [style.color]='item.footer_color' [style.text-decoration]='item.footer_decoration'
                    [style.font-weight]='item.footer_bold' [style.font-style]='item.footer_style'
                    [style.font-size.px]='item.footer_size' [innerHTML]="item.footer | replaceNewLine"></div>







                <div [class]="item.header_align" [style.font-family]='item.header_font'
                    [style.color]='item.header_color' [style.text-decoration]='item.header_decoration'
                    [style.font-weight]='item.header_bold' [style.font-style]='item.header_style'
                    [style.font-size.px]='item.header_size' [innerHTML]="item.header | replaceNewLine">



                </div>



                <div [class]="item.body_align" [style.font-family]='item.body_font'
                    [style.color]='item.body_color' [style.text-decoration]='item.body_decoration'
                    [style.font-weight]='item.body_bold' [style.font-style]='item.body_style'
                    [style.font-size.px]='item.body_size' [innerHTML]="item.body | replaceNewLine">
                </div>

            </div>
        </div>


    </div>



</ng-container>



<nz-modal [nzVisible]="previewVisible" [nzContent]="modalContent" [nzFooter]="null"
    (nzOnCancel)="previewVisible = false" nzWidth='80%'>
    <ng-template #modalContent>
        <h3> View Coupon </h3>
        <div class="container" style='overflow:hidden;'>
            <img [src]="coupon.image" [ngStyle]="{ width: '100%'}" style='border: 2px solid #555;' />
            <img [class]="coupon.image_align" [src]="coupon.logo"
                style='max-width: 20%; max-height: 20%;border: 2px solid blue;'>


            <div [class]="coupon.footer_align" [style.font-family]='coupon.footer_font'
                [style.color]='coupon.footer_color' [style.text-decoration]='coupon.footer_decoration'
                [style.font-weight]='coupon.footer_bold' [style.font-style]='coupon.footer_style'
                [style.font-size.px]='coupon.footer_size' [innerHTML]="coupon.footer | replaceNewLine"></div>







            <div [class]="coupon.header_align" [style.font-family]='coupon.header_font'
                [style.color]='coupon.header_color' [style.text-decoration]='coupon.header_decoration'
                [style.font-weight]='coupon.header_bold' [style.font-style]='coupon.header_style'
                [style.font-size.px]='coupon.header_size' [innerHTML]="coupon.header | replaceNewLine">



            </div>



            <div [class]="coupon.body_align" [style.font-family]='coupon.body_font' [style.color]='coupon.body_color'
                [style.text-decoration]='coupon.body_decoration' [style.font-weight]='coupon.body_bold'
                [style.font-style]='coupon.body_style' [style.font-size.px]='coupon.body_size'
                [innerHTML]="coupon.body | replaceNewLine">
            </div>

        </div>

    </ng-template>
</nz-modal>